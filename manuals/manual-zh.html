<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>manual-zh</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<nav id="TOC" role="doc-toc">
<ul>
<li><a href="#drrr-機器人插件設定手冊">DRRR 機器人插件設定手冊</a>
<ul>
<li><a href="#安裝">安裝</a></li>
<li><a href="#使用界面">使用界面</a>
<ul>
<li><a href="#圖示說明">圖示說明</a></li>
<li><a href="#功能說明">功能說明</a></li>
</ul></li>
<li><a href="#後台設定">後台設定</a>
<ul>
<li><a href="#quick-regex-tester-快速正則表達式測試">Quick Regex Tester （快速正則表達式測試）</a></li>
<li><a href="#music-delay-樂曲延遲">Music Delay （樂曲延遲）</a></li>
<li><a href="#timer-configuration-定時器配置">Timer Configuration (定時器配置)</a></li>
<li><a href="#welcome-configuration-歡迎詞配置">Welcome Configuration (歡迎詞配置)</a></li>
<li><a href="#whitelist-configuration-白名單配置">WhiteList Configuration (白名單配置)</a></li>
<li><a href="#blacklist-configuration-黑名單配置">BlackList Configuration (黑名單配置)</a></li>
<li><a href="#banabuse-configuration-禁止詞配置">BanAbuse Configuration (禁止詞配置)</a></li>
<li><a href="#eventaction-configuration-事件動作配置">EventAction Configuration (事件動作配置)</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
<h1 id="drrr-機器人插件設定手冊">DRRR 機器人插件設定手冊</h1>
<h2 id="安裝">安裝</h2>
<p>電腦版：</p>
<p>由於是 Chrome 插件，所以請使用 Chrome 瀏覽器，並至 <a href="https://chrome.google.com/webstore/detail/drrr-chatbot-extension/fkmpnkcjocenkliehpdhlfbmdmdnokgm">Google 線上應用程式商店</a> 安裝。</p>
<p>另外如果是用 Opera 的話，可以嘗試 Opera 這款 <a href="https://addons.opera.com/zh-tw/extensions/details/install-chrome-extensions/">Install Chrome Extensions</a> 裝裝看。</p>
<p>手機端：</p>
<p>手機版的 Chrome 並不提供在手機上的插件安裝，不過你可以使用 Yandex 瀏覽器(<a href="https://play.google.com/store/apps/details?id=ru.yandex.searchplugin&amp;hl=en_US">Android</a>, <a href="https://apps.apple.com/tw/app/yandex-browser/id483693909">iOS</a>)，他用的是 Chrome 內核，所以一樣可以到 <a href="https://chrome.google.com/webstore/detail/drrr-chatbot-extension/fkmpnkcjocenkliehpdhlfbmdmdnokgm">Google 線上應用程式商店</a> 安裝。</p>
<h2 id="使用界面">使用界面</h2>
<p>當有關鍵字時，操作界面會有細微差別（右下三個功能鍵）。</p>
<p><img src="https://i.imgur.com/TXD47AE.png" /></p>
<p><img src="https://i.imgur.com/KCXmcRM.png" /></p>
<h3 id="圖示說明">圖示說明</h3>
<h4 id="設定">設定：</h4>
<p><i class="glyphicon glyphicon-refresh"></i> 重製所有設定 <i class="glyphicon glyphicon-cog"></i> 前往後台設定</p>
<h4 id="播放模式點擊切換">播放模式（點擊切換）：</h4>
<ul>
<li><i class="glyphicon glyphicon-cd"></i>清單模式-歌曲結束後自動播放待播清單下一首</li>
<li><i class="glyphicon glyphicon-music"></i>單曲模式-播完即停</li>
</ul>
<h4 id="音源">音源：</h4>
<ul>
<li><strong>易</strong> 網易音樂</li>
<li><strong>千</strong> 千千音樂盒</li>
</ul>
<h4 id="search-keyword-and-play搜尋列">Search Keyword and Play（搜尋列）：</h4>
<p>輸入關鍵字配合功能按查詢。 輸入後直接： - Enter 可以按下左功能鍵。 - Shift + Enter 可以按下中功能鍵。 - Ctrl + Enter 可以按下右功能鍵。</p>
<h4 id="功能鍵無關鍵字">功能鍵（無關鍵字）：</h4>
<ul>
<li><i class="glyphicon glyphicon-list"></i> 展開待播清單
<ul>
<li><i class="glyphicon glyphicon-remove"></i> 從待播刪除 <i class="glyphicon glyphicon-play"></i> 立即播放 <i class="glyphicon glyphicon-heart"></i> 收藏樂曲 <img src="https://i.imgur.com/sxquWLj.png" /></li>
</ul></li>
<li><i class="glyphicon glyphicon-play"></i> 播放待播曲目</li>
<li><i class="glyphicon glyphicon-heart"></i> 展開收藏清單
<ul>
<li><i class="glyphicon glyphicon-plus"></i> 加入待播 <i class="glyphicon glyphicon-play"></i> 立即播放 <i class="glyphicon glyphicon-remove"></i> 從收藏刪除 <img src="https://i.imgur.com/DU68G8m.png" /></li>
</ul></li>
</ul>
<h4 id="功能鍵有關鍵字">功能鍵（有關鍵字）：</h4>
<ul>
<li><i class="glyphicon glyphicon-search"></i> 展開搜尋結果
<ul>
<li><i class="glyphicon glyphicon-plus"></i> 加入待播 <i class="glyphicon glyphicon-play"></i> 立即播放 <i class="glyphicon glyphicon-heart"></i> 收藏樂曲 <img src="https://i.imgur.com/5zpO2Tc.png" /></li>
</ul></li>
<li><i class="glyphicon glyphicon-play"></i> 播放最關聯搜尋結果</li>
<li><i class="glyphicon glyphicon-plus"></i> 加入最關聯結果至待播清單</li>
</ul>
<h3 id="功能說明">功能說明</h3>
<ul>
<li>Timer <i class="glyphicon glyphicon-cog"></i> 定時發訊息</li>
<li>Welcome <i class="glyphicon glyphicon-cog"></i> 自動送出歡迎詞</li>
<li>Whitelist <i class="glyphicon glyphicon-cog"></i> 房間白名單</li>
<li>Blacklist <i class="glyphicon glyphicon-cog"></i> 房間黑名單</li>
<li>BanAbuse <i class="glyphicon glyphicon-cog"></i> 禁止用語名單</li>
<li>AutoDM 發訊後自動鎖定上次私訊對象</li>
<li>Always/me 自動加上 /me 指令</li>
</ul>
<h2 id="後台設定">後台設定</h2>
<p><img src="https://i.imgur.com/MPb087T.png" /></p>
<h3 id="quick-regex-tester-快速正則表達式測試">Quick Regex Tester （快速正則表達式測試）</h3>
<p>快速測試，便於設定規則</p>
<h3 id="music-delay-樂曲延遲">Music Delay （樂曲延遲）</h3>
<p>在連續播放模式中，歌曲和歌曲間隔。 （房間成員間有同步問題，有時歌曲會蓋到，所以設定延遲）</p>
<h3 id="timer-configuration-定時器配置">Timer Configuration (定時器配置)</h3>
<p>功能：定時推播訊息。 格式：兩種格式，推播字串可以多個（隨機選擇並發出），URL 可加可不加</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb1-1"><a href="#cb1-1"></a>分鐘數<span class="op">,</span> <span class="st">&quot;字串&quot;</span></span>
<span id="cb1-2"><a href="#cb1-2"></a>分鐘數<span class="op">,</span> [<span class="st">&quot;推播字串&quot;</span><span class="op">,</span> <span class="st">&quot;推播字串&quot;</span><span class="op">,</span> <span class="op">...</span>]<span class="op">,</span> <span class="st">&quot;URL&quot;</span></span></code></pre></div>
<p>注意：字串記得要<strong>加雙引號</strong> <code>"</code>。</p>
<p>特殊時間變量：</p>
<ul>
<li><code>%Y</code> 年份，四位數字西元年</li>
<li><code>%年</code> 年份，中文數字</li>
<li><code>%M</code> 月份，一至二位數字</li>
<li><code>%月</code> 月份，中文數字（一至十二）</li>
<li><code>%D</code> 日期，一至二位數字</li>
<li><code>%日</code> 日期，中文數字</li>
<li><code>%d</code> 禮拜幾，英文全寫</li>
<li><code>%拜</code> 禮拜幾，中文</li>
<li><code>%H</code> 時，數字（24 時制）</li>
<li><code>%h</code> 時，數字（12 時制）</li>
<li><code>%c</code> 上下午，英文 <code>a.m.</code> <code>p.m.</code></li>
<li><code>%m</code> 分，數字</li>
<li><code>%s</code> 秒，數字</li>
<li><code>%%</code> 轉義字符 <code>%</code></li>
</ul>
<p>範例：</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb2-1"><a href="#cb2-1"></a><span class="dv">10</span><span class="op">,</span> <span class="st">&quot;every 10 mins report once!&quot;</span></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="dv">2</span><span class="op">,</span> [<span class="st">&quot;It&#39;s a Report Message&quot;</span><span class="op">,</span> <span class="st">&quot;Now is %H:%M!&quot;</span>]</span></code></pre></div>
<h3 id="welcome-configuration-歡迎詞配置">Welcome Configuration (歡迎詞配置)</h3>
<p>功能：有人進入房間後，如果名稱匹配<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp#Special_characters_in_regular_expressions">正則表達式</a>，則自動發出歡迎詞。 格式： 兩種格式，歡迎詞可以多個（隨機選擇並發出）</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb3-1"><a href="#cb3-1"></a><span class="st">&quot;用戶名(正則表達式)&quot;</span><span class="op">,</span> <span class="st">&quot;歡迎詞&quot;</span></span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="st">&quot;用戶名(正則表達式)&quot;</span><span class="op">,</span> [<span class="st">&quot;歡迎詞&quot;</span><span class="op">,</span> <span class="st">&quot;歡迎詞&quot;</span><span class="op">,</span> <span class="op">...</span>]</span></code></pre></div>
<p>注意： - 記得要<strong>加雙引號</strong> <code>"</code>。 - 由上往下匹配，匹配成功則不繼續往下匹配規則。 - 空字串 <code>""</code> 或正則字串 <code>".*"</code> 可以<strong>匹配全部</strong>。</p>
<p>特殊變量： - <code>$user</code> 進入房間的成員名稱。 - <code>$$</code> 轉義字符 <code>$</code>。</p>
<p>範例：對名字裡面有 lambda 和其後跟著 cat （中間可能夾有一些字）的使用者說 <code>hello, kitty</code>，對其他人則說 <code>hello/HI!!</code> 加上 <code>使用者名稱</code>。</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb4-1"><a href="#cb4-1"></a><span class="st">&quot;lambda.*cat&quot;</span><span class="op">,</span> <span class="st">&quot;hello, kitty&quot;</span></span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="st">&quot;.*&quot;</span><span class="op">,</span> [<span class="st">&quot;hello $user&quot;</span><span class="op">,</span> <span class="st">&quot;HI!! $user&quot;</span>]</span></code></pre></div>
<h3 id="whitelist-configuration-白名單配置">WhiteList Configuration (白名單配置)</h3>
<p>功能：使用<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp#Special_characters_in_regular_expressions">正則表達式</a>，自動踢出<strong>不在名單內</strong>的特定使用者。 格式：</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb5-1"><a href="#cb5-1"></a>用戶名(正則表達式)</span></code></pre></div>
<p>注意： - 記得要<strong>不加雙引號</strong>（除非想匹配有雙引號的 ID）。</p>
<p>範例：只允許以 <code>cat</code> <strong>結尾</strong>或是<code>神秘</code><strong>開頭</strong>為名稱的使用者。</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb6-1"><a href="#cb6-1"></a>cat$</span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="op">^</span>神秘</span></code></pre></div>
<h3 id="blacklist-configuration-黑名單配置">BlackList Configuration (黑名單配置)</h3>
<p>功能：使用<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp#Special_characters_in_regular_expressions">正則表達式</a>，自動踢出<strong>名單內</strong>的特定使用者。 格式：</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb7-1"><a href="#cb7-1"></a>用戶名(正則表達式)</span></code></pre></div>
<p>注意： - 記得要<strong>不加雙引號</strong>（除非想匹配有雙引號的 ID）。</p>
<p>範例：踢出名字含有 <code>otoko</code> 的使用者及一些符合條件的機器人。</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb8-1"><a href="#cb8-1"></a>otoko</span>
<span id="cb8-2"><a href="#cb8-2"></a>机器人<span class="op">|</span>機器人</span>
<span id="cb8-3"><a href="#cb8-3"></a>小冰<span class="op">|</span>小氷<span class="op">|</span>测试姬</span></code></pre></div>
<h3 id="banabuse-configuration-禁止詞配置">BanAbuse Configuration (禁止詞配置)</h3>
<p>功能：使用<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp#Special_characters_in_regular_expressions">正則表達式</a>過濾聊天內容，自動踢出<strong>說出禁用詞</strong>的使用者。 格式：</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb9-1"><a href="#cb9-1"></a>禁用詞(正則表達式)</span></code></pre></div>
<p>注意： - 記得要<strong>不加雙引號</strong>（除非想匹配有雙引號的禁用詞）。</p>
<p>範例：聊天內容含有說到 <code>狗</code> 或是 <code>真香</code> 的成員會被踢出。</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb10-1"><a href="#cb10-1"></a>狗</span>
<span id="cb10-2"><a href="#cb10-2"></a>真香</span></code></pre></div>
<h3 id="eventaction-configuration-事件動作配置">EventAction Configuration (事件動作配置)</h3>
<p>功能：對於一些事件，這裡提供一些函數，可以訂一些相應的動作。 定義的動作只有在用戶<strong>名稱</strong>及用戶發送的<strong>內容</strong>符合<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp#Special_characters_in_regular_expressions">正則表達式</a>才會被觸發。 其實前面的功能：歡迎詞/白名單/黑名單/禁止詞，都可用此功能實作。</p>
<p>格式：</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb11-1"><a href="#cb11-1"></a><span class="st">&quot;事件類型&quot;</span><span class="op">,</span> <span class="st">&quot;用戶名(正則表達式)&quot;</span><span class="op">,</span> <span class="st">&quot;內容匹配(正則表達式)&quot;</span><span class="op">,</span> <span class="st">&quot;函數&quot;</span><span class="op">,</span> [<span class="st">&quot;參數&quot;</span><span class="op">,</span> <span class="op">...</span>]</span>
<span id="cb11-2"><a href="#cb11-2"></a>[<span class="st">&quot;事件類型&quot;</span><span class="op">,</span> <span class="op">...</span>]<span class="op">,</span> <span class="st">&quot;用戶名(正則表達式)&quot;</span><span class="op">,</span> <span class="st">&quot;內容匹配(正則表達式)&quot;</span><span class="op">,</span> <span class="st">&quot;函數&quot;</span><span class="op">,</span> [<span class="st">&quot;參數&quot;</span><span class="op">,</span> <span class="op">...</span>]</span></code></pre></div>
<p>事件類型：</p>
<ul>
<li><code>me</code> 以 <code>/me</code> 發出的訊息</li>
<li><code>music</code> 播放音樂</li>
<li><code>leave</code> 成員離開</li>
<li><code>join</code> 成員加入</li>
<li><code>msg</code> 普通訊息</li>
<li><code>dm</code> 私訊</li>
<li><code>musicend</code> 音樂結束</li>
</ul>
<p>函數 [參數列] 說明：</p>
<ul>
<li><code>msg</code> <code>["訊息", "訊息", ...]</code> 從訊息中選擇一個推送。</li>
<li><code>umsg</code> <code>["URL", "訊息", ...]</code> 夾帶 URL 並隨機選擇一個訊息推送。</li>
<li><code>dm</code> <code>["使用者名稱", "訊息", "訊息", ...]</code> 私訊使用者，選擇一個訊息私訊。</li>
<li><code>udm</code> <code>["使用者名稱", "URL", "訊息", ...]</code> 私訊使用者，夾帶 URL 並隨機選擇一個訊息私訊。</li>
<li><code>kick</code> <code>["使用者名稱"]</code> 踢出使用者。</li>
<li><code>plym</code> <code>["歌曲關鍵字"]</code> <code>plym</code> <code>["歌曲關鍵字", "數字"]</code> <code>plym</code> <code>["歌曲關鍵字", "音源"]</code> <code>plym</code> <code>["歌曲關鍵字", "數字", "音源"]</code> <code>plym</code> <code>["歌曲關鍵字", "音源", "數字"]</code> 播放音樂。
<ol type="1">
<li>“關鍵字”：歌曲關鍵字。</li>
<li>“數字”：第 “數字” 個搜尋結果。</li>
<li>“音源”：音源，目前有 “千” 和 “易” 可以使用。</li>
</ol></li>
<li><code>addm</code> <code>["歌曲關鍵字"]</code> <code>addm</code> <code>["歌曲關鍵字", "數字"]</code> <code>addm</code> <code>["歌曲關鍵字", "音源"]</code> <code>addm</code> <code>["歌曲關鍵字", "數字", "音源"]</code> <code>addm</code> <code>["歌曲關鍵字", "音源", "數字"]</code> 加入音樂至待播清單。
<ol type="1">
<li>“關鍵字”：歌曲關鍵字。</li>
<li>“數字”：第 “數字” 個搜尋結果。</li>
<li>“音源”：音源，目前有 “千” 和 “易” 可以使用。</li>
</ol></li>
<li><code>delm</code> <code>["數字"]</code> 從清單刪除音樂（依索引數字）。</li>
<li><code>lstm</code> <code>[]</code> 列出待播清單。</li>
<li><code>nxtm</code> <code>[]</code> 播放下一首曲子。</li>
<li><code>pndm</code> <code>[]</code> <code>pndm</code> <code>["歌曲關鍵字"]</code> <code>pndm</code> <code>["歌曲關鍵字", "數字"]</code> <code>pndm</code> <code>["歌曲關鍵字", "音源"]</code> <code>pndm</code> <code>["歌曲關鍵字", "數字", "音源"]</code> <code>pndm</code> <code>["歌曲關鍵字", "音源", "數字"]</code> 無參數則列出待播清單。 如當前沒音樂，播放音樂。 如有音樂，將音樂加入清單 如關鍵字為空字串，列出待播清單。
<ol type="1">
<li>“關鍵字”：歌曲關鍵字。</li>
<li>“數字”：第 “數字” 個搜尋結果。</li>
<li>“音源”：音源，目前有 “千” 和 “易” 可以使用。</li>
</ol></li>
<li><code>schm</code> <code>["歌曲關鍵字"]</code> <code>schm</code> <code>["歌曲關鍵字", "音源"]</code> 列出搜尋結果。
<ol type="1">
<li>“關鍵字”：歌曲關鍵字。</li>
<li>“音源”：音源，目前有 “千” 和 “易” 可以使用。</li>
</ol></li>
</ul>
<p>（<code>me</code> 可以用 <code>/me + 推送訊息</code> 以 msg 達成。）</p>
<p>特殊參數變量：</p>
<ul>
<li><code>$user</code> 發送訊息的使用者名稱</li>
<li><code>$cont</code> 使用者發送的內容</li>
<li><code>$args</code> 使用者發送內容第一個空格後的所有內容 使用者發送：<code>play BUMP OF CHICKEN「Hello,world!」</code> <code>$args</code>：<code>BUMP OF CHICKEN「Hello,world!」</code></li>
<li><code>$url</code> 使用者夾上的 URL</li>
<li><code>$$</code> 轉義字符 <code>$</code></li>
</ul>
<p>這裡還有一些特殊用法。 對於收到的訊息，會以空格分開成參數列，而用引號可以避免分開。 而對分開的內容，可以用以下方法作為參數。</p>
<ul>
<li><code>$N</code> N 為數字，以數字取第 N 個參數，從零開始。</li>
<li><code>$[N-M]</code> 取從 N 到 M 的參數。N 不給則從零開始，M 不給取到最後。</li>
</ul>
<pre><code>this is  a  message send from user
---- --  -  ------- ---- ---- ----
$0   $1  $2 $3      $4   $5   $6
----------------------------------
$cont

發送字串：
this is a &quot;another message&quot; send from &#39;another user&#39;

引號會被拿掉，但裡面空格不會被切開：
this is a  another message  send from  another user
---- -- -  ---------------  ---- ----  ------------
$0   $1 $2 $3               $4   $5    $6
     ----------------------------------------------
     $args
---------  --------------------- ------------------
$[-2]      $[3-4]                $[5-]
---------------------------------------------------                     
$[-]
</code></pre>
<p>範例：接上點歌功能。</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb13-1"><a href="#cb13-1"></a><span class="st">&quot;msg&quot;</span><span class="op">,</span> <span class="st">&quot;&quot;</span><span class="op">,</span> <span class="st">&quot;^/play</span><span class="sc">\\</span><span class="st">s+(</span><span class="sc">\\</span><span class="st">D|</span><span class="sc">\\</span><span class="st">d</span><span class="sc">\\</span><span class="st">S)&quot;</span><span class="op">,</span> <span class="st">&quot;plym&quot;</span><span class="op">,</span> [<span class="st">&quot;$args&quot;</span>]</span>
<span id="cb13-2"><a href="#cb13-2"></a><span class="st">&quot;msg&quot;</span><span class="op">,</span> <span class="st">&quot;&quot;</span><span class="op">,</span> <span class="st">&quot;^/play</span><span class="sc">\\</span><span class="st">s+</span><span class="sc">\\</span><span class="st">d</span><span class="sc">\\</span><span class="st">s+</span><span class="sc">\\</span><span class="st">S+&quot;</span><span class="op">,</span> <span class="st">&quot;plym&quot;</span><span class="op">,</span> [<span class="st">&quot;$[2-]&quot;</span><span class="op">,</span> <span class="st">&quot;$1&quot;</span>]</span>
<span id="cb13-3"><a href="#cb13-3"></a><span class="st">&quot;msg&quot;</span><span class="op">,</span> <span class="st">&quot;&quot;</span><span class="op">,</span> <span class="st">&quot;^/playsrc</span><span class="sc">\\</span><span class="st">s+[千易]</span><span class="sc">\\</span><span class="st">s+(</span><span class="sc">\\</span><span class="st">D|</span><span class="sc">\\</span><span class="st">d</span><span class="sc">\\</span><span class="st">S)&quot;</span><span class="op">,</span> <span class="st">&quot;plym&quot;</span><span class="op">,</span> [<span class="st">&quot;$[2-]&quot;</span>]</span>
<span id="cb13-4"><a href="#cb13-4"></a><span class="st">&quot;msg&quot;</span><span class="op">,</span> <span class="st">&quot;&quot;</span><span class="op">,</span> <span class="st">&quot;^/playsrc</span><span class="sc">\\</span><span class="st">s+[千易]</span><span class="sc">\\</span><span class="st">s+</span><span class="sc">\\</span><span class="st">d</span><span class="sc">\\</span><span class="st">s+</span><span class="sc">\\</span><span class="st">S+&quot;</span><span class="op">,</span> <span class="st">&quot;plym&quot;</span><span class="op">,</span> [<span class="st">&quot;$[3-]&quot;</span><span class="op">,</span> <span class="st">&quot;$1&quot;</span><span class="op">,</span> <span class="st">&quot;$2&quot;</span>]</span>
<span id="cb13-5"><a href="#cb13-5"></a><span class="st">&quot;msg&quot;</span><span class="op">,</span> <span class="st">&quot;&quot;</span><span class="op">,</span> <span class="st">&quot;^/add</span><span class="sc">\\</span><span class="st">s+(</span><span class="sc">\\</span><span class="st">D|</span><span class="sc">\\</span><span class="st">d</span><span class="sc">\\</span><span class="st">S)&quot;</span><span class="op">,</span> <span class="st">&quot;addm&quot;</span><span class="op">,</span> [<span class="st">&quot;$args&quot;</span>]</span>
<span id="cb13-6"><a href="#cb13-6"></a><span class="st">&quot;msg&quot;</span><span class="op">,</span> <span class="st">&quot;&quot;</span><span class="op">,</span> <span class="st">&quot;^/add</span><span class="sc">\\</span><span class="st">s+</span><span class="sc">\\</span><span class="st">d</span><span class="sc">\\</span><span class="st">s+</span><span class="sc">\\</span><span class="st">S+&quot;</span><span class="op">,</span> <span class="st">&quot;addm&quot;</span><span class="op">,</span> [<span class="st">&quot;$[2-]&quot;</span><span class="op">,</span> <span class="st">&quot;$1&quot;</span>]</span>
<span id="cb13-7"><a href="#cb13-7"></a><span class="st">&quot;msg&quot;</span><span class="op">,</span> <span class="st">&quot;&quot;</span><span class="op">,</span> <span class="st">&quot;^/addsrc</span><span class="sc">\\</span><span class="st">s+[千易]</span><span class="sc">\\</span><span class="st">s+(</span><span class="sc">\\</span><span class="st">D|</span><span class="sc">\\</span><span class="st">d</span><span class="sc">\\</span><span class="st">S)&quot;</span><span class="op">,</span> <span class="st">&quot;addm&quot;</span><span class="op">,</span> [<span class="st">&quot;$[2-]&quot;</span><span class="op">,</span> <span class="st">&quot;$1&quot;</span>]</span>
<span id="cb13-8"><a href="#cb13-8"></a><span class="st">&quot;msg&quot;</span><span class="op">,</span> <span class="st">&quot;&quot;</span><span class="op">,</span> <span class="st">&quot;^/addsrc</span><span class="sc">\\</span><span class="st">s+[千易]</span><span class="sc">\\</span><span class="st">s+</span><span class="sc">\\</span><span class="st">d</span><span class="sc">\\</span><span class="st">s+</span><span class="sc">\\</span><span class="st">S+&quot;</span><span class="op">,</span> <span class="st">&quot;addm&quot;</span><span class="op">,</span> [<span class="st">&quot;$[3-]&quot;</span><span class="op">,</span> <span class="st">&quot;$1&quot;</span><span class="op">,</span> <span class="st">&quot;$2&quot;</span>]</span>
<span id="cb13-9"><a href="#cb13-9"></a><span class="st">&quot;msg&quot;</span><span class="op">,</span> <span class="st">&quot;&quot;</span><span class="op">,</span> <span class="st">&quot;^/list&quot;</span><span class="op">,</span> <span class="st">&quot;lstm&quot;</span><span class="op">,</span> []</span>
<span id="cb13-10"><a href="#cb13-10"></a><span class="st">&quot;msg&quot;</span><span class="op">,</span> <span class="st">&quot;&quot;</span><span class="op">,</span> <span class="st">&quot;^/next&quot;</span><span class="op">,</span> <span class="st">&quot;nxtm&quot;</span><span class="op">,</span> []</span>
<span id="cb13-11"><a href="#cb13-11"></a><span class="st">&quot;msg&quot;</span><span class="op">,</span> <span class="st">&quot;&quot;</span><span class="op">,</span> <span class="st">&quot;^/del</span><span class="sc">\\</span><span class="st">s+</span><span class="sc">\\</span><span class="st">d+&quot;</span><span class="op">,</span> <span class="st">&quot;delm&quot;</span><span class="op">,</span> [<span class="st">&quot;$1&quot;</span>]</span>
<span id="cb13-12"><a href="#cb13-12"></a><span class="st">&quot;msg&quot;</span><span class="op">,</span> <span class="st">&quot;&quot;</span><span class="op">,</span> <span class="st">&quot;^/pending</span><span class="sc">\\</span><span class="st">s*$&quot;</span><span class="op">,</span> <span class="st">&quot;pndm&quot;</span><span class="op">,</span> []</span>
<span id="cb13-13"><a href="#cb13-13"></a><span class="st">&quot;msg&quot;</span><span class="op">,</span> <span class="st">&quot;&quot;</span><span class="op">,</span> <span class="st">&quot;^/pending</span><span class="sc">\\</span><span class="st">s+(</span><span class="sc">\\</span><span class="st">D|</span><span class="sc">\\</span><span class="st">d</span><span class="sc">\\</span><span class="st">S)&quot;</span><span class="op">,</span> <span class="st">&quot;pndm&quot;</span><span class="op">,</span> [<span class="st">&quot;$args&quot;</span>]</span>
<span id="cb13-14"><a href="#cb13-14"></a><span class="st">&quot;msg&quot;</span><span class="op">,</span> <span class="st">&quot;&quot;</span><span class="op">,</span> <span class="st">&quot;^/pending</span><span class="sc">\\</span><span class="st">s+</span><span class="sc">\\</span><span class="st">d</span><span class="sc">\\</span><span class="st">s+</span><span class="sc">\\</span><span class="st">S+&quot;</span><span class="op">,</span> <span class="st">&quot;pndm&quot;</span><span class="op">,</span> [<span class="st">&quot;$[2-]&quot;</span><span class="op">,</span> <span class="st">&quot;$1&quot;</span>]</span>
<span id="cb13-15"><a href="#cb13-15"></a><span class="st">&quot;msg&quot;</span><span class="op">,</span> <span class="st">&quot;&quot;</span><span class="op">,</span> <span class="st">&quot;^/pendsrc</span><span class="sc">\\</span><span class="st">s+[千易]</span><span class="sc">\\</span><span class="st">s+(</span><span class="sc">\\</span><span class="st">D|</span><span class="sc">\\</span><span class="st">d</span><span class="sc">\\</span><span class="st">S)&quot;</span><span class="op">,</span> <span class="st">&quot;pndm&quot;</span><span class="op">,</span> [<span class="st">&quot;$[2-]&quot;</span><span class="op">,</span> <span class="st">&quot;$1&quot;</span>]</span>
<span id="cb13-16"><a href="#cb13-16"></a><span class="st">&quot;msg&quot;</span><span class="op">,</span> <span class="st">&quot;&quot;</span><span class="op">,</span> <span class="st">&quot;^/pendsrc</span><span class="sc">\\</span><span class="st">s+[千易]</span><span class="sc">\\</span><span class="st">s+</span><span class="sc">\\</span><span class="st">d</span><span class="sc">\\</span><span class="st">s+</span><span class="sc">\\</span><span class="st">S+&quot;</span><span class="op">,</span> <span class="st">&quot;pndm&quot;</span><span class="op">,</span> [<span class="st">&quot;$[3-]&quot;</span><span class="op">,</span> <span class="st">&quot;$1&quot;</span><span class="op">,</span> <span class="st">&quot;$2&quot;</span>]</span>
<span id="cb13-17"><a href="#cb13-17"></a><span class="st">&quot;msg&quot;</span><span class="op">,</span> <span class="st">&quot;&quot;</span><span class="op">,</span> <span class="st">&quot;^/sc</span><span class="sc">\\</span><span class="st">s+([千易]</span><span class="sc">\\</span><span class="st">S+|[^千易])&quot;</span><span class="op">,</span> <span class="st">&quot;schm&quot;</span><span class="op">,</span> [<span class="st">&quot;$args&quot;</span>]</span>
<span id="cb13-18"><a href="#cb13-18"></a><span class="st">&quot;msg&quot;</span><span class="op">,</span> <span class="st">&quot;&quot;</span><span class="op">,</span> <span class="st">&quot;^/sc</span><span class="sc">\\</span><span class="st">s+[千易]</span><span class="sc">\\</span><span class="st">s+</span><span class="sc">\\</span><span class="st">S+&quot;</span><span class="op">,</span> <span class="st">&quot;schm&quot;</span><span class="op">,</span> [<span class="st">&quot;$[2-]&quot;</span><span class="op">,</span> <span class="st">&quot;$1&quot;</span>]</span></code></pre></div>
<p>使用者發送以下字串可以觸發設定好的功能：</p>
<pre><code>/play 剛好遇見你
/play 2 剛好遇見你
/playsrc 千 剛好遇見你
/play 易 2 剛好遇見你
/add  山丘
/add  2 山丘
/addsrc 千 山丘
/addsrc 易 2 山丘
/pending
/pending 平凡之路
/pending 2 平凡之路
/pendsrc 千 平凡之路
/pendsrc 易 2 平凡之路
/del  1
/list
/next
/sc 花心
/sc 千 花心</code></pre>
</body>
</html>
